(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{309:function(a,t,s){"use strict";s.r(t);var e=s(14),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"前提"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前提"}},[a._v("#")]),a._v(" 前提")]),a._v(" "),t("blockquote",[t("p",[a._v("docker > 17.05")])]),a._v(" "),t("p",[a._v("在同一个 "),t("code",[a._v("Dockerfile")]),a._v(" 中定义多个 "),t("code",[a._v("FROM")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("FROM nginx:latest\n\nFROM scratch\n")])])]),t("h2",{attrs:{id:"跨容器复制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#跨容器复制"}},[a._v("#")]),a._v(" 跨容器复制")]),a._v(" "),t("p",[a._v("给容器设置别名，在需要复制的容器中指定别名，"),t("code",[a._v("COPY --from=目标容器 文件路径 需要复制存放的路径")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("FROM nginx:latest AS nginx\n\n\nFROM scratch\n\nCOPY "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--from")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("nginx /usr/local/nginx/defult.conf "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" \n")])])]),t("h2",{attrs:{id:"镜像比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像比较"}},[a._v("#")]),a._v(" 镜像比较")]),a._v(" "),t("p",[t("code",[a._v("latest")]),a._v("、"),t("code",[a._v("alpine")]),a._v("、"),t("code",[a._v("scratch")]),a._v(" 三种镜像那种更小？")]),a._v(" "),t("h3",{attrs:{id:"latest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#latest"}},[a._v("#")]),a._v(" Latest")]),a._v(" "),t("p",[a._v("latest 一般都是镜像的最新版本，所占内存是最大的。")]),a._v(" "),t("h3",{attrs:{id:"alpine"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#alpine"}},[a._v("#")]),a._v(" Alpine")]),a._v(" "),t("p",[a._v("Alpine 一个基于 "),t("code",[a._v("musl libc")]),a._v(" 和 "),t("code",[a._v("busybox")]),a._v("、面向安全的轻量级 Linux 发行版。它本身的 Docker 镜像只有 4～5M 大小。各开发语言和框架都有基于 alpine\n制作的基础镜像，在开发自己应用的镜像时，选择这些镜像作为基础镜像，可以大大减小镜像的体积。")]),a._v(" "),t("h3",{attrs:{id:"scratch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scratch"}},[a._v("#")]),a._v(" Scratch")]),a._v(" "),t("p",[a._v("Scratch 是一个空镜像，只能用于构建其他镜像，比如你要运行一个包含所有依赖的二进制文件，如 Golang 程序，可以直接使用 scratch 作为基础镜像。")])])}),[],!1,null,null,null);t.default=r.exports}}]);